<!-- Current image_pipeline and cv_bridge is not stable with opencv 3.0, image_proc not working for me
 and tried of rolling back to opencv2.4, so test if it works for opencv 2.4 -->
<launch>

  <arg name="ns"              			default=""/>

  <arg name="left_image_topic" 			default="left_robot_cam" />
  <arg name="left_camera_info_topic" 	default="camera_info" />
  <arg name="right_image_topic" 		default="right_robot_cam" />
  <arg name="right_camera_info_topic" 	default="camera_info" />

  <!-- <include file="$(find zed_cpu_ros)/launch/zed_cpu_ros.launch"/> -->
  <node pkg="stereo_image_proc" type="stereo_image_proc" name="stereo_image_proc" respawn="true" output="screen" ns="camera">
  	<remap from="left/image_raw" to="$(arg left_image_topic)"/>
  	<remap from="left/camera_info" to="$(arg left_camera_info_topic)"/>
  	<remap from="right/image_raw" to="$(arg right_image_topic)"/>
  	<remap from="right/camera_info" to="$(arg right_camera_info_topic)"/>
  	<param name="min_disparity" value="1"/>
  	<param name="correlation_window_size" value="20"/>
  </node>

	<group ns="camera">
		<node pkg="nodelet" type="nodelet" name="depth_nodelet_manager"  args="manager"/>
		<!-- <node pkg="nodelet" type="nodelet" name="depth" args="load rtabmap_ros/disparity_to_depth depth_nodelet_manager"/> -->
	</group>


</launch>